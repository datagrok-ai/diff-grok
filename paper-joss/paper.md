---
title: 'Diff Studio: Ecosystem for Interactive Modeling by Ordinary Differential Equations'
tags:
  - Differential equations
  - TypeScript
authors:
  - name: Viktor Makarichev   
    orcid: 0000-0003-1481-9132
    affiliation: "1" 
    corresponding: true 
  - name: Larisa Bankurova
    affiliation: "1"
  - name: Gennadii Zakharov
    affiliation: "1,3"
  - name: Leonid Stolbov
    affiliation: "1"
  - name: Steven Mehrman
    affiliation: "2"
  - name: Dan Skatov
    affiliation: "2"
  - name: Jeffrey Cohen
    affiliation: "2"
  - name: Paul Sass
    affiliation: "2"
  - name: Davit Rizhinashvili 
    affiliation: "1"
  - name: Andrew Skalkin
    affiliation: "1"
affiliations:
 - name: Datagrok Inc, USA
   index: 1
 - name: Johnson & Johnson Inc, USA
   index: 2
 - name: Wellcome Sanger Institute, UK
   index: 3
date: 04 September 2025
bibliography: paper.bib
---

# Summary

Initial value problems (IVPs) for ordinary differential equations (ODEs) are widely used to model complex systems. They are utilized in many domains, including physical processes [@chicone2006ordinary], biochemical kinetics [@ingalls2013mathematical], drug delivery systems [@mircioiu2019mathematical], cloud computing [@jafarnejad2019applying], and population dynamics [@hastings2013population].

Many well-established numerical solvers for ODEs already exist. However, interactive model exploration, reproducible computation, and collaborative workflows remain difficult to achieve. This is especially true in browser-based environments.

**Diff Studio** is a browser-native environment for solving and exploring IVPs, enabling **interactive**, **collaborative**, and **reproducible** exploration of ODE-based simulations without custom software development or local environment setup.

Diff Studio consists of two components. **Diff Grok** is a high-performance TypeScript library for solving ODE systems defined in a declarative form. **Diff Studio** is a web application that integrates Diff Grok into the **Datagrok** scientific computing platform. Together, they provide autogenerated interfaces and automatic recomputation for browser-based ODE modeling.

# Statement of need

ODEs can be solved both analytically and numerically. Analytic methods providing exact solutions can be applied only to a limited class of ODEs. The use of analytic solutions often proves impractical due to their complexity [@hairer2008solving1]. Numerical methods computing approximate solutions are often preferred. Many such methods have been developed [@hairer2008solving1; @hairer2002solving2] and are available in many scientific computing tools. Notable examples include SUNDIALS [@gardner2022sundials; @hindmarsh2005sundials], the Julia Differential Equations package [@rackauckas2017differentialequations], SciPy [@2020SciPyNMeth], Maple [@maple2025], Mathematica [@Mathematica2024], Matlab [@MATLAB], and deSolve [@soetaert2010solving]. These tools provide robust and efficient computations. However, they are mainly designed for desktop or scripting-based workflows.

In practice, scientific modeling often requires interactive exploration. Researchers frequently adjust parameters and inspect model behavior iteratively. Collaboration between multiple users is also common. Existing solutions usually require local installation and environment configuration. This makes sharing models and reproducing results difficult. Creating interactive analysis tools often requires substantial programming effort. As a result, attention shifts away from scientific analysis toward software development.

Web-based modeling with ODEs introduces additional challenges. Methods utilizing WebAssembly [@wasm2025] or Pyodide [@pyodide2025] allow reuse of existing numerical libraries. WebAssembly provides near-native performance by allowing numerical methods written in C/C++ or Rust to be compiled for the browser. However, it often requires recompilation when equations or model structure change. This limits its flexibility for iterative model design. Pyodide offers a WebAssembly-based Python distribution that enables the use of NumPy, SciPy, and other scientific libraries. However, it has large package sizes, may incur performance overhead and large bundle sizes, and integrates less seamlessly with browser APIs. In contrast, pure JavaScript/TypeScript implementations offer a flexible and performant solution, with libraries such as Math.js [@mathjs] and odex-js [@odexjs]. They expose low-level APIs, so end users need programming expertise.

Diff Studio addresses these limitations. It offers a low-code interface with extensive functionalities for in-browser modeling and analysis of ODE-based systems.

# The solution: Diff Studio

The Diff Grok library provides numerical methods for solving problems specified in a declarative form. It includes:

- **Solving tools:** numerical methods and computational pipelines. The library implements the modified Rosenbrock triple (MRT) [@Shampine1997], the ROS3PRw [@jax2021], and the ROS34PRw [@rang2015improved] methods. They support both stiff and non-stiff systems. Performance was benchmarked on **Robertson** [@robertson1966solution], **HIRES** [@schafer1975new], **VDPOL** [@vanderpol1926relaxation], **OREGO** [@hairer2002solving2], **E5** [@hairer2002solving2], and **Pollution** [@verwer1994gauss]. Diff Grok allows users to obtain modeling results in near-real time (see \autoref{fig:peformance}). Computational pipelines support multi-stage modeling and solving of IVPs in web workers. This enables parallel computations and analyses, including parameter optimization and sensitivity studies.
- **Declarative modeling language:** a domain-specific language for specifying problems. It provides the ability to define IVPs as a text containing equations and model input annotations.

![Diff Grok performance: computational time comparison.\label{fig:peformance}](./images/dg-performance.png)

Diff Studio integrates the Diff Grok library with the Datagrok platform [@datagrok]. This web application provides an equations editor (\autoref{fig:dseditor}) and enables a model analysis via an autogenerated user interface (\autoref{fig:autoui}).

![Pharmacokinetic-pharmacodynamic simulation with Diff Studio: the equation editor, numerical solution, and its visualization. The view displays the declarative model specification with input annotations.\label{fig:dseditor}](./images/ds-editor.png)

In Diff Studio, each time the user adjusts sliders or modifies any inputs, the application automatically recalculates the results. The high-performance Diff Grok library performs these computations almost in real time. Visualizations are updated immediately. This enables rapid investigation of model behavior.

Models and results can be shared using URLs. Collaborators can reproduce computations without installing additional software. They can also continue exploring the models interactively. Datagrok also provides sensitivity analysis and parameter optimization features.

Thus, Diff Studio serves as a comprehensive modeling environment and a centralized hub for ODE-based models.

![Diff Studio in model exploration mode, showing the autogenerated UI. Adjusting sliders or modifying any inputs automatically updates the results.\label{fig:autoui}](./images/ds-ui.png)

## Availability

Links:

- [Diff Grok](https://github.com/datagrok-ai/diff-grok)
- [Diff Studio](https://github.com/datagrok-ai/public/tree/master/packages/DiffStudio)
- [Datagrok Help pages](https://datagrok.ai/help/compute/diff-studio)

Run Diff Studio online [here](https://public.datagrok.ai/apps/DiffStudio), or complete an interactive [tutorial](https://public.datagrok.ai/apps/tutorials/Tutorials/Scientificcomputing/Differentialequations).

# Acknowledgements

The authors are grateful to the entire **Datagrok** team and to the **JnJ ModelHub** project team for their contributions and feedback, which significantly improved the project.

# Conflicts of interest

The authors declare no conflict of interest.

# References
