<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>diff-grok - v1.0.9</title><meta name="description" content="Documentation for diff-grok"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">diff-grok - v1.0.9</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>diff-grok - v1.0.9</h1></div><div class="tsd-panel tsd-typography"><h1 id="diff-grok" class="tsd-anchor-link">Diff Grok<a href="#diff-grok" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A lightweight TypeScript library for solving initial value problem (<a href="https://en.wikipedia.org/wiki/Initial_value_problem">IVP</a>) for ordinary differential equations (<a href="https://en.wikipedia.org/wiki/Ordinary_differential_equation">ODEs</a>) using numerical methods. This library focuses on solving <a href="https://en.wikipedia.org/wiki/Stiff_equation">stiff equations</a>.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Solving both <a href="https://en.wikipedia.org/wiki/Stiff_equation">stiff</a> and non-stiff equations</li>
<li>Fast computations</li>
<li>A set of Rosenbrockâ€“Wanner-type methods:
<ul>
<li>The modified Rosenbrock triple (<a href="https://doi.org/10.1137/S1064827594276424">MRT</a>)</li>
<li>The <a href="https://doi.org/10.1016/j.cam.2015.03.010">ROS3PRw</a> method</li>
<li>The <a href="https://doi.org/10.1016/j.cam.2015.03.010">ROS34PRw</a> method</li>
</ul>
</li>
<li>Scripting:
<ul>
<li>declarative specification of models</li>
<li>auto-generated JavaScript code</li>
</ul>
</li>
<li>Integration with the <a href="https://datagrok.ai">Datagrok</a> platform</li>
<li>Zero dependencies</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">diff-grok</span>
</code><button type="button">Copy</button></pre>

<h2 id="solving" class="tsd-anchor-link">Solving<a href="#solving" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="general" class="tsd-anchor-link">General<a href="#general" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To find numerical solution of a problem:</p>
<p>$$\frac{dy}{dt} = f(t, y)$$
$$y(t_{0}) = y_0$$</p>
<p>on the segment $[t_0, t_1]$ with the step $h$:</p>
<ol>
<li>
<p>Import <code>ODEs</code> and a desired numerical method:</p>
<ul>
<li><code>mrt</code> - the <a href="https://doi.org/10.1137/S1064827594276424">MRT</a> method</li>
<li><code>ros3prw</code>- the <a href="https://doi.org/10.1016/j.cam.2015.03.010">ROS3PRw</a> method</li>
<li><code>ros34prw</code> - the <a href="https://doi.org/10.1016/j.cam.2015.03.010">ROS34PRw</a> method</li>
</ul>
</li>
<li>
<p>Specify <code>ODEs</code> object that defines a problem:</p>
<ul>
<li>
<p><code>name</code> - name of a model</p>
</li>
<li>
<p><code>arg</code> - independent variable specification. This is in object with fields:</p>
<ul>
<li><code>name</code> - name of the argument, $t$</li>
<li><code>start</code> - initial value of the argument, $t_0$</li>
<li><code>finish</code> - final value of the argument, $t_1$</li>
<li><code>step</code> - solution grid step, $h$</li>
</ul>
</li>
<li>
<p><code>initial</code> - initial values, $y_0$</p>
</li>
<li>
<p><code>func</code> - right-hand side of the system, $f(t, y)$. This is a function <code>(t: number, y: Float64Array, output: Float64Array) =&gt; void</code>:</p>
<ul>
<li><code>t</code> - value of independent variable $t$</li>
<li><code>y</code> - values of $y$</li>
<li><code>output</code> - output values of $f(t, y)$</li>
</ul>
</li>
<li>
<p><code>tolerance</code> - numerical tolerance</p>
</li>
<li>
<p><code>solutionColNames</code> - names of solutions, i.e. names of the vector $y$ elements</p>
</li>
</ul>
</li>
<li>
<p>Call numerical method. It returns <code>Float64Array</code>-arrays with values of an argument and approximate solutions.</p>
</li>
</ol>
<p>Diff Grok is designed to provide fast computations. Check <a href="#performance">performance</a> for the details.</p>
<h3 id="example" class="tsd-anchor-link">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Consider the following problem:</p>
<p>$$\begin{cases}
\frac{dx}{dt} = x + y - t \
\frac{dy}{dt} = x y + t \
x(0) = 1 \
y(0) = -1
\end{cases}$$</p>
<p>To solve it on the segment $[0, 2]$ with the step $0.01$ using the <a href="https://doi.org/10.1137/S1064827594276424">MRT</a> method with the tolerance $10^{-7}$, we start with imports:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><span class="hl-4">ODEs</span><span class="hl-1">, </span><span class="hl-4">mrt</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@datagrok-ai/diff-studio-tools&#39;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>Next, we create</p>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">task</span><span class="hl-1">: </span><span class="hl-7">ODEs</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Example&#39;</span><span class="hl-1">, </span><span class="hl-8">// name of your model</span><br/><span class="hl-1">    </span><span class="hl-4">arg:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;t&#39;</span><span class="hl-1">,  </span><span class="hl-8">// name of the argument</span><br/><span class="hl-1">        </span><span class="hl-4">start:</span><span class="hl-1"> </span><span class="hl-9">0</span><span class="hl-1">,   </span><span class="hl-8">// initial value of the argument</span><br/><span class="hl-1">        </span><span class="hl-4">finish:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,  </span><span class="hl-8">// final value of the argument</span><br/><span class="hl-1">        </span><span class="hl-4">step:</span><span class="hl-1"> </span><span class="hl-9">0.01</span><span class="hl-1">, </span><span class="hl-8">// solution grid step</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">initial:</span><span class="hl-1"> [</span><span class="hl-9">1</span><span class="hl-1">, -</span><span class="hl-9">1</span><span class="hl-1">], </span><span class="hl-8">// initial values</span><br/><span class="hl-1">    </span><span class="hl-0">func</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">t</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">, </span><span class="hl-4">y</span><span class="hl-1">: </span><span class="hl-7">Float64Array</span><span class="hl-1">, </span><span class="hl-4">output</span><span class="hl-1">: </span><span class="hl-7">Float64Array</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> { </span><span class="hl-8">// right-hand side of the system</span><br/><span class="hl-1">      </span><span class="hl-4">output</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">] = </span><span class="hl-4">y</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">] + </span><span class="hl-4">y</span><span class="hl-1">[</span><span class="hl-9">1</span><span class="hl-1">] - </span><span class="hl-4">t</span><span class="hl-1">; </span><span class="hl-8">// 1-st equation</span><br/><span class="hl-1">      </span><span class="hl-4">output</span><span class="hl-1">[</span><span class="hl-9">1</span><span class="hl-1">] = </span><span class="hl-4">y</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">] * </span><span class="hl-4">y</span><span class="hl-1">[</span><span class="hl-9">1</span><span class="hl-1">] + </span><span class="hl-4">t</span><span class="hl-1">; </span><span class="hl-8">// 2-nd equation</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">tolerance:</span><span class="hl-1"> </span><span class="hl-9">1e-7</span><span class="hl-1">, </span><span class="hl-8">// tolerance</span><br/><span class="hl-1">    </span><span class="hl-4">solutionColNames:</span><span class="hl-1"> [</span><span class="hl-2">&#39;x&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;y&#39;</span><span class="hl-1">], </span><span class="hl-8">// names of solution functions</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<p>Finally, we call the specified numerical method to solve <code>task</code>:</p>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">solution</span><span class="hl-1"> = </span><span class="hl-0">mrt</span><span class="hl-1">(</span><span class="hl-4">task</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Currently, <code>solution</code> contains:</p>
<ul>
<li><code>solution[0]</code> - values of $t$, i.e. the range $0..2$ with the step $0.01$</li>
<li><code>solution[1]</code> - values of $x(t)$ at the points of this range</li>
<li><code>solution[2]</code> - values of $y(t)$ at the points of the same range</li>
</ul>
<p>Find this example in <a href="media/basic-use.ts">basic-use.ts</a>.</p>
<h2 id="performance" class="tsd-anchor-link">Performance<a href="#performance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The following <a href="https://archimede.uniba.it/~testset/testsetivpsolvers/?page_id=26#ODE">classic problems</a> are used to evaluate efficiency of Diff Grok methods:</p>
<ul>
<li><a href="https://archimede.uniba.it/~testset/report/rober.pdf">Rober</a>
<ul>
<li>a stiff system of 3 nonlinear ODEs</li>
<li>describes the kinetics of an autocatalytic reaction given by Robertson</li>
<li><a href="media/robertson.ts">robertson.ts</a></li>
</ul>
</li>
<li><a href="https://archimede.uniba.it/~testset/report/hires.pdf">HIRES</a>
<ul>
<li>a stiff system of 8 non-linear equations</li>
<li>explains the `High Irradiance Responses' (HIRES) of photomorphogenesis on the basis of phytochrome, by means of a chemical reaction   involving eight reactants</li>
<li><a href="media/hires.ts">hires.ts</a></li>
</ul>
</li>
<li><a href="https://archimede.uniba.it/~testset/report/vdpol.pdf">VDPOL</a>
<ul>
<li>a system of 2 ODEs proposed by B. van der Pol</li>
<li>describes the behaviour of nonlinear vacuum tube circuits</li>
<li><a href="media/vdpol.ts">vdpol.ts</a></li>
</ul>
</li>
<li><a href="https://archimede.uniba.it/~testset/report/orego.pdf">OREGO</a>
<ul>
<li>a stiff system of 3 non-linear equations</li>
<li>simulates Belousov-Zhabotinskii reaction</li>
<li><a href="media/orego.ts">orego.ts</a></li>
</ul>
</li>
<li><a href="https://archimede.uniba.it/~testset/report/e5.pdf">E5</a>
<ul>
<li>a stiff system of 4 non-linear ODEs</li>
<li>represents a chemical pyrolysis model</li>
<li><a href="media/e5.ts">e5.ts</a></li>
</ul>
</li>
<li><a href="https://archimede.uniba.it/~testset/report/pollu.pdf">Pollution</a>
<ul>
<li>a stiff system of 20 non-linear equations</li>
<li>describes a chemical reaction part of the air pollution model designed at The Dutch National Institute of Public Health and Environmental Protection</li>
<li><a href="media/pollution.ts">pollution.ts</a></li>
</ul>
</li>
</ul>
<p>The MRT, ROS3PRw and ROS34PRw methods demonstrate the following time performance (AMD Ryzen 5 5600H 3.30 GHz CPU):</p>
<table>
<thead>
<tr>
<th>Problem</th>
<th>Segment</th>
<th>Points</th>
<th>Tolerance</th>
<th>MRT, ms</th>
<th>ROS3PRw, ms</th>
<th>ROS34PRw, ms</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://archimede.uniba.it/~testset/report/rober.pdf">Rober</a></td>
<td>[0, 10E+11]</td>
<td>40K</td>
<td>1E-7</td>
<td>103</td>
<td>446</td>
<td>285</td>
</tr>
<tr>
<td><a href="https://archimede.uniba.it/~testset/report/hires.pdf">HIRES</a></td>
<td>[0, 321.8122]</td>
<td>32K</td>
<td>1E-10</td>
<td>222</td>
<td>362</td>
<td>215</td>
</tr>
<tr>
<td><a href="https://archimede.uniba.it/~testset/report/vdpol.pdf">VDPOL</a></td>
<td>[0, 2000]</td>
<td>20K</td>
<td>1E-12</td>
<td>963</td>
<td>1576</td>
<td>760</td>
</tr>
<tr>
<td><a href="https://archimede.uniba.it/~testset/report/orego.pdf">OREGO</a></td>
<td>[0, 360]</td>
<td>36K</td>
<td>1E-8</td>
<td>381</td>
<td>483</td>
<td>199</td>
</tr>
<tr>
<td><a href="https://archimede.uniba.it/~testset/report/e5.pdf">E5</a></td>
<td>[0, 10E+13]</td>
<td>40K</td>
<td>1E-6</td>
<td>14</td>
<td>17</td>
<td>8</td>
</tr>
<tr>
<td><a href="https://archimede.uniba.it/~testset/report/pollu.pdf">Pollution</a></td>
<td>[0, 60]</td>
<td>30K</td>
<td>1E-6</td>
<td>36</td>
<td>50</td>
<td>23</td>
</tr>
</tbody>
</table>
<p>Run <a href="media/check-methods.ts">check-methods.ts</a> to check results.</p>
<h2 id="scripting" class="tsd-anchor-link">Scripting<a href="#scripting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The library provides tools for declarative specifying models defined by IVPs. This feature enables a development of &quot;no-code&quot; modeling tools seamlessly integrated with the <a href="https://datagrok.ai">Datagrok</a> platform.</p>
<h3 id="model-components-and-syntax" class="tsd-anchor-link">Model components and syntax<a href="#model-components-and-syntax" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Each <strong>model</strong> has a simple declarative syntax.</p>
<h4 id="core-blocks" class="tsd-anchor-link">Core blocks<a href="#core-blocks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>These blocks define the basic mathematical model and are required for any model:</p>
<ol>
<li>
<p><code>#name</code>: Add a model identifier</p>
<pre><code class="python">#name: Problem
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><code>#equations</code>: Define the system of ODEs to solve. Diff Grok supports any number of equations with single or multi-letter variable names</p>
<pre><code class="python">#equations:
  dx/dt = x + y + exp(t)
  dy/dt = x - y - cos(t)
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><code>#argument</code>: Defines</p>
<ul>
<li>independent variable</li>
<li>its initial value (<code>initial</code>)</li>
<li>final value (<code>final</code>), and</li>
<li>grid step (<code>step</code>)</li>
</ul>
<p>The solver calculates values at each step interval across the specified [<em>initial,final</em>] range.</p>
<pre><code class="python">#argument: t
  initial = 0
  final = 1
  step = 0.01
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><code>#inits</code>: Defines initial values for functions being solved</p>
<pre><code class="python">#inits:
  x = 2
  y = 5
</code><button type="button">Copy</button></pre>

</li>
</ol>
<h4 id="comments" class="tsd-anchor-link">Comments<a href="#comments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>
<p><code>#comment</code>: Write a comment in any place of your model</p>
<pre><code class="python">#comment:
  You can provide any text here. The lib ignores it.
</code><button type="button">Copy</button></pre>

</li>
<li>
<p>Place comments right in formulas using <code>//</code></p>
<pre><code class="python">#equations:
  dx/dt = x + y + exp(t) // 1-st equation
  dy/dt = x - y - cos(t) // 2-nd equation
</code><button type="button">Copy</button></pre>

</li>
</ul>
<h4 id="model-parameters" class="tsd-anchor-link">Model parameters<a href="#model-parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>These blocks define values used in equations. Choose type based on intended use:</p>
<ul>
<li>
<p><code>#parameters</code>: Generate UI controls for model exploration</p>
<pre><code class="python">#parameters:
  P1 = 1
  P2 = -1

</code><button type="button">Copy</button></pre>

</li>
<li>
<p><code>#constants</code>: Use for fixed values in equations that don't require UI controls</p>
<pre><code class="python">#constants:
  C1 = 1
  C2 = 3
</code><button type="button">Copy</button></pre>

</li>
</ul>
<h4 id="auxiliary-calculations" class="tsd-anchor-link">Auxiliary calculations<a href="#auxiliary-calculations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>This block defines mathematical functions using <code>#parameters</code>, <code>#constants</code>,
<code>#argument</code>, and other functions. These are direct calculations (no ODEs involved). Use them to break
down complex calculations and simplify your equations.</p>
<ul>
<li>
<p><code>#expressions</code></p>
<pre><code class="python">#expressions:
  E1 = C1 * t + P1
  E2 = C2 * cos(2 * t) + P2
</code><button type="button">Copy</button></pre>

</li>
</ul>
<h3 id="js-code-generation" class="tsd-anchor-link">JS-code generation<a href="#js-code-generation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To transform any model to JavaScript code with an appropriate specification of <code>ODEs</code> object, follow the steps:</p>
<ol>
<li>Import the parsing and code generating tools:</li>
</ol>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><span class="hl-4">getIVP</span><span class="hl-1">, </span><span class="hl-4">getJScode</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@datagrok-ai/diff-studio-tools&#39;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<ol start="2">
<li>Define a string with a model specification, use a simple <a href="#model-components-and-syntax">model syntax</a>:</li>
</ol>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">model</span><span class="hl-1"> = </span><span class="hl-2">`</span><br/><span class="hl-2">#name: Example</span><br/><span class="hl-2">#equations:</span><br/><span class="hl-2">  dx/dt = x + y - cos(t)</span><br/><span class="hl-2">  dy/dt = x - y + sin(t)</span><br/><span class="hl-2">...</span><br/><span class="hl-2">`</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<ol start="3">
<li>Parse formulas:</li>
</ol>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">ivp</span><span class="hl-1"> = </span><span class="hl-0">getIVP</span><span class="hl-1">(</span><span class="hl-4">model</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The method <code>getIVP</code> parses formulas and returns <code>IVP</code> object specifying a model.</p>
<ol start="4">
<li>Generate JS-code:</li>
</ol>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">lines</span><span class="hl-1"> = </span><span class="hl-0">getJScode</span><span class="hl-1">(</span><span class="hl-4">ivp</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The method <code>getJScode</code> transforms <code>IVP</code> object to JavaScript code. It returns an array of strings with this code.</p>
<p>Find this example in <a href="media/scripting.ts">scripting.ts</a>.</p>
<h3 id="pipelines" class="tsd-anchor-link">Pipelines<a href="#pipelines" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Diff Grok <strong>pipeline</strong> is a powerful feature for complex process simulation and model analysis in webworkers. It wraps the main solver with a set of actions that perform pre- and post-processing of a model inputs &amp; outputs. In addition, they provide an output customization.</p>
<ol>
<li>Start with imports:</li>
</ol>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-5">*</span><span class="hl-1"> </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-4">DGL</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@datagrok/diff-grok&#39;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<ol start="2">
<li>Define your model:</li>
</ol>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">model</span><span class="hl-1"> = </span><span class="hl-2">`#name: My model</span><br/><span class="hl-2">#equations:</span><br/><span class="hl-2">  dx/dt = ...</span><br/><span class="hl-2">  dy/dt = ...</span><br/><span class="hl-2">  ...</span><br/><br/><span class="hl-2">#inits:</span><br/><span class="hl-2">  x = 2</span><br/><span class="hl-2">  y = 3</span><br/><span class="hl-2">  ...</span>
</code><button type="button">Copy</button></pre>

<ol start="3">
<li>Generate IVP-objects:</li>
</ol>
<ul>
<li>for the main thread computations:</li>
</ul>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">ivp</span><span class="hl-1"> = </span><span class="hl-6">DGL</span><span class="hl-1">.</span><span class="hl-0">getIVP</span><span class="hl-1">(</span><span class="hl-4">model</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>for computations in workers:</li>
</ul>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">ivpWW</span><span class="hl-1"> = </span><span class="hl-6">DGL</span><span class="hl-1">.</span><span class="hl-0">getIvp2WebWorker</span><span class="hl-1">(</span><span class="hl-4">ivp</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<ol start="4">
<li>Set model inputs:</li>
</ol>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">inputs</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-9">30</span><span class="hl-1">,</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<ol start="5">
<li>Create typed input array:</li>
</ol>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">inputVector</span><span class="hl-1"> = </span><span class="hl-6">DGL</span><span class="hl-1">.</span><span class="hl-0">getInputVector</span><span class="hl-1">(</span><span class="hl-4">inputs</span><span class="hl-1">, </span><span class="hl-4">ivp</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<ol start="6">
<li>Get a pipeline:</li>
</ol>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">creator</span><span class="hl-1"> = </span><span class="hl-6">DGL</span><span class="hl-1">.</span><span class="hl-0">getPipelineCreator</span><span class="hl-1">(</span><span class="hl-4">ivp</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">pipeline</span><span class="hl-1"> = </span><span class="hl-4">creator</span><span class="hl-1">.</span><span class="hl-0">getPipeline</span><span class="hl-1">(</span><span class="hl-4">inputVector</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>You can pass <code>pipeline</code>, <code>ivpWW</code>, and <code>inputVector</code> to webworkers.</p>
<ol start="7">
<li>Apply pipeline to perform computations:</li>
</ol>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">solution</span><span class="hl-1"> = </span><span class="hl-6">DGL</span><span class="hl-1">.</span><span class="hl-0">applyPipeline</span><span class="hl-1">(</span><span class="hl-4">pipeline</span><span class="hl-1">, </span><span class="hl-4">ivpWW</span><span class="hl-1">, </span><span class="hl-4">inputVector</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Find complete examples in these files:</p>
<ul>
<li><a href="media/pipeline-use.ts">pipeline-use.ts</a> - A basic example demonstrating pipeline usage</li>
<li><a href="media/model-updates.ts">model-updates.ts</a> - A simulation of a multi-stage process using pipelines</li>
<li><a href="media/cyclic-model.ts">cyclic-model.ts</a> - A simulation of a cyclic process using pipelines</li>
</ul>
<h2 id="integration-with-datagrok" class="tsd-anchor-link">Integration with Datagrok<a href="#integration-with-datagrok" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="https://datagrok.ai">Datagrok</a> is a platform enabling powerful scientific computing capabilities. It provides next-generation environment for leveraging interactive visualizations, data access, machine learning, and enterprise features to enable developing, publishing, discovering, and using scientific applications.</p>
<p>The library is seamlessly integrated to Datagrok via the <a href="https://github.com/datagrok-ai/public/tree/master/packages/DiffStudio">Diff Studio</a> package. It provides</p>
<ul>
<li>Numerical solving IVPs directly in the browser</li>
<li>&quot;No-code&quot; models development</li>
<li>Solving both stiff and non-stiff systems of ODEs</li>
<li>Automatic generation of user interfaces</li>
<li>Interactive visualization and model exploration</li>
<li>Sensitivity analysis and parameters optimization</li>
<li>Sharing models and computational results</li>
</ul>
<p>Run the Diff Studio <a href="https://public.datagrok.ai/apps/DiffStudio">app</a> and check interactive modeling:</p>
<p><img src="media/acid-prod.gif" alt="DiffStudio"></p>
<p>Learn more</p>
<ul>
<li>Diff Studio application <a href="https://datagrok.ai/help/compute/diff-studio">docs</a></li>
<li>Diff Studio example <a href="https://datagrok.ai/help/compute/models">models</a></li>
<li><a href="https://datagrok.ai/help/compute/function-analysis#parameter-optimization">Parameters optimization</a></li>
<li><a href="https://datagrok.ai/help/compute/function-analysis#sensitivity-analysis">Sensitivity analysis</a></li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#diff-grok"><span>Diff <wbr/>Grok</span></a><ul><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#solving"><span>Solving</span></a></li><li><ul><li><a href="#general"><span>General</span></a></li><li><a href="#example"><span>Example</span></a></li></ul></li><li><a href="#performance"><span>Performance</span></a></li><li><a href="#scripting"><span>Scripting</span></a></li><li><ul><li><a href="#model-components-and-syntax"><span>Model components and syntax</span></a></li><li><ul><li><a href="#core-blocks"><span>Core blocks</span></a></li><li><a href="#comments"><span>Comments</span></a></li><li><a href="#model-parameters"><span>Model parameters</span></a></li><li><a href="#auxiliary-calculations"><span>Auxiliary calculations</span></a></li></ul></li><li><a href="#js-code-generation"><span>JS-<wbr/>code generation</span></a></li><li><a href="#pipelines"><span>Pipelines</span></a></li></ul></li><li><a href="#integration-with-datagrok"><span>Integration with <wbr/>Datagrok</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">diff-grok - v1.0.9</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
